{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Medo_/OneDrive/Documents/Ruby/app/server/utils.ts"],"sourcesContent":["type PrayerTimesResult = {\r\n  fajr: string;\r\n  dhuhr: string;\r\n  asr: string;\r\n  maghrib: string;\r\n  isha: string;\r\n  sunrise: string;\r\n};\r\n\r\nexport const sendSalams = (): string => {\r\n  return 'Assalamu Alaikum wa Rahmatullahi wa Barakatuhu!!';\r\n};\r\n\r\nexport const getPrayerTimes = async ({\r\n  lat,\r\n  lon,\r\n  method = 2,\r\n  school = 0,\r\n  date,\r\n}: {\r\n  lat: number;\r\n  lon: number;\r\n  method?: number;\r\n  school?: number;\r\n  date?: string;\r\n}): Promise<PrayerTimesResult> => {\r\n  if (lat == null || lon == null) {\r\n    throw new Error(`lat and lon are required. Got lat=${lat}, lon=${lon}`);\r\n  }\r\n\r\n  const base = 'https://api.aladhan.com/v1';\r\n  const path = date ? `/timings/${date}` : '/timings';\r\n\r\n  const url = new URL(base + path);\r\n  url.searchParams.set('latitude', String(lat));\r\n  url.searchParams.set('longitude', String(lon));\r\n  url.searchParams.set('method', String(method));\r\n  url.searchParams.set('school', String(school));\r\n\r\n  const response = await fetch(url.toString());\r\n  if (!response.ok) {\r\n    throw new Error(`Failed to fetch prayer times: ${response.statusText}`);\r\n  }\r\n\r\n  const json = await response.json();\r\n\r\n  // Aladhan response shape: json.data.timings.Fajr, etc.\r\n  const t = json?.data?.timings;\r\n  if (!t) {\r\n    console.error('Unexpected Aladhan response:', json);\r\n    throw new Error('Unexpected prayer time response from API');\r\n  }\r\n\r\n  return {\r\n    fajr: t.Fajr,\r\n    dhuhr: t.Dhuhr,\r\n    asr: t.Asr,\r\n    maghrib: t.Maghrib,\r\n    isha: t.Isha,\r\n    sunrise: t.Sunrise,\r\n  };\r\n};"],"names":[],"mappings":";;;;;;AASO,MAAM,aAAa;IACxB,OAAO;AACT;AAEO,MAAM,iBAAiB,OAAO,EACnC,GAAG,EACH,GAAG,EACH,SAAS,CAAC,EACV,SAAS,CAAC,EACV,IAAI,EAOL;IACC,IAAI,OAAO,QAAQ,OAAO,MAAM;QAC9B,MAAM,IAAI,MAAM,CAAC,kCAAkC,EAAE,IAAI,MAAM,EAAE,KAAK;IACxE;IAEA,MAAM,OAAO;IACb,MAAM,OAAO,OAAO,CAAC,SAAS,EAAE,MAAM,GAAG;IAEzC,MAAM,MAAM,IAAI,IAAI,OAAO;IAC3B,IAAI,YAAY,CAAC,GAAG,CAAC,YAAY,OAAO;IACxC,IAAI,YAAY,CAAC,GAAG,CAAC,aAAa,OAAO;IACzC,IAAI,YAAY,CAAC,GAAG,CAAC,UAAU,OAAO;IACtC,IAAI,YAAY,CAAC,GAAG,CAAC,UAAU,OAAO;IAEtC,MAAM,WAAW,MAAM,MAAM,IAAI,QAAQ;IACzC,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM,CAAC,8BAA8B,EAAE,SAAS,UAAU,EAAE;IACxE;IAEA,MAAM,OAAO,MAAM,SAAS,IAAI;IAEhC,uDAAuD;IACvD,MAAM,IAAI,MAAM,MAAM;IACtB,IAAI,CAAC,GAAG;QACN,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO;QACL,MAAM,EAAE,IAAI;QACZ,OAAO,EAAE,KAAK;QACd,KAAK,EAAE,GAAG;QACV,SAAS,EAAE,OAAO;QAClB,MAAM,EAAE,IAAI;QACZ,SAAS,EAAE,OAAO;IACpB;AACF"}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Medo_/OneDrive/Documents/Ruby/app/server/schema.ts"],"sourcesContent":["import { makeExecutableSchema } from '@graphql-tools/schema';\r\nimport { getPrayerTimes, sendSalams } from './utils';\r\n\r\nconst typeDefs = `\r\n    type PrayerTimes {\r\n        fajr: String!\r\n        dhuhr: String!\r\n        asr: String!\r\n        maghrib: String!\r\n        isha: String!\r\n        sunrise: String!\r\n    }\r\n\r\n    type Query {\r\n        sendSalams: String!\r\n        getPrayerTimes(lat: Float!, lon: Float!, method: Int, school: Int, date: String): PrayerTimes!\r\n     }\r\n`;\r\n\r\nconst resolvers = {\r\n    Query: {\r\n        sendSalams: () => {\r\n            return sendSalams();\r\n        },\r\n        getPrayerTimes: async (\r\n            _parent: unknown,\r\n            args: { lat: number; lon: number; method?: number; school?: number; date?: string }\r\n        ) => {\r\n            return getPrayerTimes({\r\n                lat: args.lat,\r\n                lon: args.lon,\r\n                method: args.method,\r\n                school: args.school,\r\n                date: args.date,\r\n            });\r\n        },\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const schema = makeExecutableSchema({\r\n    typeDefs,\r\n    resolvers\r\n});"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,WAAW,CAAC;;;;;;;;;;;;;;AAclB,CAAC;AAED,MAAM,YAAY;IACd,OAAO;QACH,YAAY;YACR,OAAO,IAAA,uKAAU;QACrB;QACA,gBAAgB,OACZ,SACA;YAEA,OAAO,IAAA,2KAAc,EAAC;gBAClB,KAAK,KAAK,GAAG;gBACb,KAAK,KAAK,GAAG;gBACb,QAAQ,KAAK,MAAM;gBACnB,QAAQ,KAAK,MAAM;gBACnB,MAAM,KAAK,IAAI;YACnB;QACJ;IACJ;AACJ;AAIO,MAAM,SAAS,IAAA,sOAAoB,EAAC;IACvC;IACA;AACJ"}},
    {"offset": {"line": 209, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Medo_/OneDrive/Documents/Ruby/app/api/graphql/route.ts"],"sourcesContent":["import {NextRequest} from 'next/server';\r\nimport {createYoga} from 'graphql-yoga';\r\nimport {schema} from '../../server/schema';\r\n\r\nconst yoga = createYoga<{\r\n    req: NextRequest;}>({\r\n    schema,\r\n    graphqlEndpoint: '/api/graphql',\r\n    fetchAPI: {Request, Response},\r\n    });\r\n\r\nexport {yoga as GET, yoga as POST};\r\n"],"names":[],"mappings":";;;;;;AACA;AACA;;;AAEA,MAAM,OAAO,IAAA,iMAAU,EACC;IACpB,QAAA,oKAAM;IACN,iBAAiB;IACjB,UAAU;QAAC;QAAS;IAAQ;AAC5B"}}]
}