{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/Ruby/app/page.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAgR,GAC7S,8CACA","ignoreList":[0]}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/Ruby/app/page.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA4P,GACzR,0BACA","ignoreList":[0]}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["C:/dev/Ruby/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport \"./globals.css\";\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { graphql, useLazyLoadQuery } from 'react-relay/hooks'\r\n\r\nconst HomePageQuery = graphql`query pageQuery($lat: Float!, $lon: Float!, $method: Int, $school: Int, $date: String) {\r\n        getPrayerTimes(lat: $lat, lon: $lon, method: $method, school: $school, date: $date) {\r\n            fajr\r\n            dhuhr\r\n            asr\r\n            maghrib\r\n            isha\r\n            sunrise\r\n        }\r\n    }\r\n`;\r\n\r\n// Simple ImageWithFallback component to avoid missing symbol errors.\r\n// It falls back to the provided fallback image if the main image fails to load.\r\nfunction ImageWithFallback({ src, alt, className }: { src: string; alt?: string; className?: string }) {\r\n    const [errored, setErrored] = useState(false);\r\n    const fallback = '/assets/mosque.jpg';\r\n    // Render a single img that fills its container. Keep it simple so callers can place\r\n    // the element absolutely/fixed and size it with utility classes (w-full h-full etc.).\r\n    return (\r\n        <img\r\n            src={errored ? fallback : src}\r\n            alt={alt ?? ''}\r\n            onError={() => setErrored(true)}\r\n        />\r\n    );\r\n}\r\n\r\nfunction to12HourIntl(hhmm: string) {\r\n  const [hh, mm] = hhmm.split(\":\").map(Number);\r\n  const d = new Date();\r\n  d.setHours(hh, mm, 0, 0);\r\n\r\n  return new Intl.DateTimeFormat(\"en-US\", {\r\n    hour: \"numeric\",\r\n    minute: \"2-digit\",\r\n    hour12: true,\r\n  }).format(d);\r\n}\r\n\r\n\r\n// BackgroundPortal is implemented in `client/BackgroundPortal.tsx`.\r\n\r\nexport default function HomePage() {\r\n    const [coords, setCoords] = useState<{ lat: number; lon: number } | null>(null);\r\n\r\n    // 1Ô∏è‚É£ Detect location\r\n    useEffect(() => {\r\n        navigator.geolocation.getCurrentPosition(\r\n            (pos) => {\r\n                setCoords({\r\n                    lat: pos.coords.latitude,\r\n                    lon: pos.coords.longitude,\r\n                });\r\n            },\r\n            (err) => {\r\n                console.error(\"Location error:\", err);\r\n            }\r\n        );\r\n    }, []);\r\n\r\n\r\n    const variables = coords ? {\r\n        lat: coords.lat,\r\n        lon: coords.lon,\r\n        method: 2,\r\n        school: 0,\r\n    }\r\n        : {\r\n            lat: 0,\r\n            lon: 0,\r\n            method: 2,\r\n            school: 0,\r\n        };\r\n\r\n    const data = useLazyLoadQuery(HomePageQuery, variables, {\r\n        fetchPolicy: coords ? 'store-or-network' : 'store-only',\r\n    });\r\n    const prayerTimes = data.getPrayerTimes;\r\n\r\n    // If coords not ready, show loading screen\r\n    if (!coords) {\r\n        return <div style={{ padding: \"2rem\", color: \"white\" }}>Detecting your location‚Ä¶</div>;\r\n    }\r\n    const locations = [{ id: 'mecca', label: 'Mecca' }, { id: 'medina', label: 'Medina' }];\r\n    const cards = [\r\n        { key: 'fajr', label: 'FAJR', time: to12HourIntl(prayerTimes.fajr), emoji: 'üåÖ' },\r\n        { key: 'sunrise', label: 'SUNRISE', time: to12HourIntl(prayerTimes.sunrise), emoji: 'üåÑ' },\r\n        { key: 'dhuhr', label: 'DHUHR', time: to12HourIntl(prayerTimes.dhuhr), emoji: '‚òÄÔ∏è' },\r\n        { key: 'asr', label: 'ASR', time: to12HourIntl(prayerTimes.asr), emoji: '‚õÖ' },\r\n        { key: 'maghrib', label: 'MAGHRIB', time: to12HourIntl(prayerTimes.maghrib), emoji: 'üèôÔ∏è' },\r\n        { key: 'isha', label: 'ISHA', time: to12HourIntl(prayerTimes.isha), emoji: 'üåô' },\r\n    ];\r\n\r\n    const today = new Date();\r\n\r\n    const formattedDate = new Intl.DateTimeFormat(\"en-US\", {\r\n        weekday: \"long\",\r\n        month: \"long\",\r\n        day: \"numeric\",\r\n        year: \"numeric\",\r\n    }).format(today);\r\n\r\n\r\n    return (\r\n        <main className=\"page\">\r\n            <div className=\"background\">\r\n                <ImageWithFallback\r\n                    src=\"/assets/mosque.jpg\"\r\n                    alt=\"Grand mosque\"\r\n                />\r\n                <div className=\"overlay\" />\r\n            </div>\r\n\r\n            {/* Header */}\r\n            <header className=\"header\">\r\n                <h1>Prayer Times</h1>\r\n                <p>Today's Schedule ‚Äì {formattedDate}</p>\r\n            </header>\r\n\r\n            {/* Grid */}\r\n            <section className=\"grid-wrapper\">\r\n                <div className=\"prayer-grid\">\r\n                    {cards.map((p) => (\r\n                        <div key={p.key} className=\"prayer-card\">\r\n                            <div className=\"icon\">{p.emoji}</div>\r\n                            <div className=\"label\">{p.label}</div>\r\n                            <div className=\"time\">{p.time}</div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </section>\r\n\r\n            {/* Footer pill */}\r\n            <footer className=\"footer\">\r\n                <div className=\"footer-pill\">\r\n                    ‚ò™Ô∏è May your prayers be accepted ‚ò™Ô∏è\r\n                </div>\r\n            </footer>\r\n        </main>\r\n    );\r\n}\r\n\r\n\r\n"],"names":["_pageQuery","useEffect","useState","graphql","useLazyLoadQuery","HomePageQuery","hash","console","error","ImageWithFallback","src","alt","className","errored","setErrored","fallback","to12HourIntl","hhmm","hh","mm","split","map","Number","d","Date","setHours","Intl","DateTimeFormat","hour","minute","hour12","format","HomePage","coords","setCoords","lat","lon","navigator","geolocation","getCurrentPosition","pos","latitude","longitude","err","variables","method","school","data","fetchPolicy","prayerTimes","getPrayerTimes","padding","color","locations","id","label","cards","key","time","fajr","emoji","sunrise","dhuhr","asr","maghrib","isha","today","formattedDate","weekday","month","day","year","p"],"mappings":"","ignoreList":[]}}]
}