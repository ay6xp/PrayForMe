{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["C:/dev/Ruby/app/server/utils.ts"],"sourcesContent":["type PrayerTimesResult = {\r\n  fajr: string;\r\n  dhuhr: string;\r\n  asr: string;\r\n  maghrib: string;\r\n  isha: string;\r\n  sunrise: string;\r\n};\r\n\r\nexport const sendSalams = (): string => {\r\n  return 'Assalamu Alaikum wa Rahmatullahi wa Barakatuhu!!';\r\n};\r\n\r\nexport const getPrayerTimes = async ({\r\n  lat,\r\n  lon,\r\n  method = 2,\r\n  school = 0,\r\n  date,\r\n}: {\r\n  lat: number;\r\n  lon: number;\r\n  method?: number;\r\n  school?: number;\r\n  date?: string;\r\n}): Promise<PrayerTimesResult> => {\r\n  if (lat == null || lon == null) {\r\n    throw new Error(`lat and lon are required. Got lat=${lat}, lon=${lon}`);\r\n  }\r\n\r\n  const base = 'https://api.aladhan.com/v1';\r\n  const path = date ? `/timings/${date}` : '/timings';\r\n\r\n  const url = new URL(base + path);\r\n  url.searchParams.set('latitude', String(lat));\r\n  url.searchParams.set('longitude', String(lon));\r\n  url.searchParams.set('method', String(method));\r\n  url.searchParams.set('school', String(school));\r\n\r\n  const response = await fetch(url.toString());\r\n  if (!response.ok) {\r\n    throw new Error(`Failed to fetch prayer times: ${response.statusText}`);\r\n  }\r\n\r\n  const json = await response.json();\r\n\r\n  // Aladhan response shape: json.data.timings.Fajr, etc.\r\n  const t = json?.data?.timings;\r\n  if (!t) {\r\n    console.error('Unexpected Aladhan response:', json);\r\n    throw new Error('Unexpected prayer time response from API');\r\n  }\r\n\r\n  return {\r\n    fajr: t.Fajr,\r\n    dhuhr: t.Dhuhr,\r\n    asr: t.Asr,\r\n    maghrib: t.Maghrib,\r\n    isha: t.Isha,\r\n    sunrise: t.Sunrise,\r\n  };\r\n};"],"names":["PrayerTimesResult","fajr","dhuhr","asr","maghrib","isha","sunrise","sendSalams","getPrayerTimes","lat","lon","method","school","date","Promise","Error","base","path","url","URL","searchParams","set","String","response","fetch","toString","ok","statusText","json","t","data","timings","console","error","Fajr","Dhuhr","Asr","Maghrib","Isha","Sunrise"],"mappings":";;;;;;AASO,MAAMO,UAAU,GAAGA,CAAA,CAAE,EAAE,MAAM,IAAI;IACtC,OAAO,kDAAkD;AAC3D,CAAC;AAEM,MAAMC,cAAc,GAAG,MAAAA,CAAO,EACnCC,GAAG,EACHC,GAAG,EACHC,MAAM,GAAG,CAAC,EACVC,MAAM,GAAG,CAAC,EACVC,IAAAA,EAOD,CAAC,EAAEC,OAAO,CAACd,iBAAiB,CAAC,IAAI;IAChC,IAAIS,GAAG,IAAI,IAAI,IAAIC,GAAG,IAAI,IAAI,EAAE;QAC9B,MAAM,IAAIK,KAAK,CAAC,CAAA,kCAAA,EAAqCN,GAAG,CAAA,MAAA,EAASC,GAAG,EAAE,CAAC;IACzE;IAEA,MAAMM,IAAI,GAAG,4BAA4B;IACzC,MAAMC,IAAI,GAAGJ,IAAI,GAAG,CAAA,SAAA,EAAYA,IAAI,EAAE,GAAG,UAAU;IAEnD,MAAMK,GAAG,GAAG,IAAIC,GAAG,CAACH,IAAI,GAAGC,IAAI,CAAC;IAChCC,GAAG,CAACE,YAAY,CAACC,GAAG,CAAC,UAAU,EAAEC,MAAM,CAACb,GAAG,CAAC,CAAC;IAC7CS,GAAG,CAACE,YAAY,CAACC,GAAG,CAAC,WAAW,EAAEC,MAAM,CAACZ,GAAG,CAAC,CAAC;IAC9CQ,GAAG,CAACE,YAAY,CAACC,GAAG,CAAC,QAAQ,EAAEC,MAAM,CAACX,MAAM,CAAC,CAAC;IAC9CO,GAAG,CAACE,YAAY,CAACC,GAAG,CAAC,QAAQ,EAAEC,MAAM,CAACV,MAAM,CAAC,CAAC;IAE9C,MAAMW,QAAQ,GAAG,MAAMC,KAAK,CAACN,GAAG,CAACO,QAAQ,CAAC,CAAC,CAAC;IAC5C,IAAI,CAACF,QAAQ,CAACG,EAAE,EAAE;QAChB,MAAM,IAAIX,KAAK,CAAC,CAAA,8BAAA,EAAiCQ,QAAQ,CAACI,UAAU,EAAE,CAAC;IACzE;IAEA,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACK,IAAI,CAAC,CAAC;IAElC,uDAAA;IACA,MAAMC,CAAC,GAAGD,IAAI,EAAEE,IAAI,EAAEC,OAAO;IAC7B,IAAI,CAACF,CAAC,EAAE;QACNG,OAAO,CAACC,KAAK,CAAC,8BAA8B,EAAEL,IAAI,CAAC;QACnD,MAAM,IAAIb,KAAK,CAAC,0CAA0C,CAAC;IAC7D;IAEA,OAAO;QACLd,IAAI,EAAE4B,CAAC,CAACK,IAAI;QACZhC,KAAK,EAAE2B,CAAC,CAACM,KAAK;QACdhC,GAAG,EAAE0B,CAAC,CAACO,GAAG;QACVhC,OAAO,EAAEyB,CAAC,CAACQ,OAAO;QAClBhC,IAAI,EAAEwB,CAAC,CAACS,IAAI;QACZhC,OAAO,EAAEuB,CAAC,CAACU,OAAAA;IACb,CAAC;AACH,CAAC","ignoreList":[]}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["C:/dev/Ruby/app/server/schema.ts"],"sourcesContent":["import { makeExecutableSchema } from '@graphql-tools/schema';\r\nimport { getPrayerTimes, sendSalams } from './utils';\r\n\r\nconst typeDefs = `\r\n    type PrayerTimes {\r\n        fajr: String!\r\n        dhuhr: String!\r\n        asr: String!\r\n        maghrib: String!\r\n        isha: String!\r\n        sunrise: String!\r\n    }\r\n\r\n    type Query {\r\n        sendSalams: String!\r\n        getPrayerTimes(lat: Float!, lon: Float!, method: Int, school: Int, date: String): PrayerTimes!\r\n     }\r\n`;\r\n\r\nconst resolvers = {\r\n    Query: {\r\n        sendSalams: () => {\r\n            return sendSalams();\r\n        },\r\n        getPrayerTimes: async (\r\n            _parent: unknown,\r\n            args: { lat: number; lon: number; method?: number; school?: number; date?: string }\r\n        ) => {\r\n            return getPrayerTimes({\r\n                lat: args.lat,\r\n                lon: args.lon,\r\n                method: args.method,\r\n                school: args.school,\r\n                date: args.date,\r\n            });\r\n        },\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const schema = makeExecutableSchema({\r\n    typeDefs,\r\n    resolvers\r\n});"],"names":["makeExecutableSchema","getPrayerTimes","sendSalams","typeDefs","resolvers","Query","_parent","args","lat","lon","method","school","date","schema"],"mappings":";;;;AAAA,SAASA,oBAAoB,QAAQ,uBAAuB;AAC5D,SAASC,cAAc,EAAEC,UAAU,QAAQ,SAAS;;;AAEpD,MAAMC,QAAQ,GAAG,CAAA;;;;;;;;;;;;;;AAcjB,CAAC;AAED,MAAMC,SAAS,GAAG;IACdC,KAAK,EAAE;QACHH,UAAU,EAAEA,CAAA,KAAM;YACd,WAAOA,sIAAU,CAAC,CAAC;QACvB,CAAC;QACDD,cAAc,EAAE,MAAAA,CACZK,OAAO,EAAE,AACTC,IAAI,EAAE,CADU;YAGhB,WAAON,0IAAc,EAAC;gBAClBO,GAAG,EAAED,IAAI,CAACC,GAAG;gBACbC,GAAG,EAAEF,IAAI,CAACE,GAAG;gBACbC,MAAM,EAAEH,IAAI,CAACG,MAAM;gBACnBC,MAAM,EAAEJ,IAAI,CAACI,MAAM;gBACnBC,IAAI,EAAEL,IAAI,CAACK,IAAAA;YACf,CAAC,CAAC;QACN;IACJ;AACJ,CAAC;AAIM,MAAMC,MAAM,OAAGb,qMAAoB,EAAC;IACvCG,QAAQ;IACRC;AACJ,CAAC,CAAC","ignoreList":[]}},
    {"offset": {"line": 209, "column": 0}, "map": {"version":3,"sources":["C:/dev/Ruby/app/api/graphql/route.ts"],"sourcesContent":["import {NextRequest} from 'next/server';\r\nimport {createYoga} from 'graphql-yoga';\r\nimport {schema} from '../../server/schema';\r\n\r\nconst yoga = createYoga<{\r\n    req: NextRequest;}>({\r\n    schema,\r\n    graphqlEndpoint: '/api/graphql',\r\n    fetchAPI: {Request, Response},\r\n    });\r\n\r\nexport {yoga as GET, yoga as POST};\r\n"],"names":["NextRequest","createYoga","schema","yoga","req","graphqlEndpoint","fetchAPI","Request","Response","GET","POST"],"mappings":";;;;;;AACA,SAAQC,UAAU,QAAO,cAAc;AACvC,SAAQC,MAAM,QAAO,qBAAqB;;;AAE1C,MAAMC,IAAI,OAAGF,gKAAU,CAAC,CACA;YACpBC,mIAAM;IACNG,eAAe,EAAE,cAAc;IAC/BC,QAAQ,EAAE;QAACC,OAAO;QAAEC;IAAQ;AAC5B,CAAC,CAAC","ignoreList":[]}}]
}